@model GroceryDelivery.ViewModels.MapViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!-- Klucz Api: AIzaSyDsSoynwjXE_F5_NNEaxjFc4ISWWWGy6ow -->


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <div id="googleMap" style="height:700px;width:100%;"></div>
    <script>
        function myMap() {
            var icons = {
                lidl: {
                    icon: 'https://banner2.cleanpng.com/20180713/uyh/kisspng-lidl-logo-retail-supermarket-toru-lidl-5b48ae1d2b0734.8496726915314898211763.jpg'
                }
            };
            var myCenter = new google.maps.LatLng(@Model.latitude, @Model.longtitude);
            var mapProp = { center: myCenter, zoom: 12, scrollwheel: false, draggable: true, mapTypeId: google.maps.MapTypeId.ROADMAP };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            var marker = new google.maps.Marker({ position: myCenter });
            marker.setMap(map);
            @foreach(var shop in Model.Shops)
            {
                <text>new google.maps.Marker({ position: new google.maps.LatLng('@shop.latidute', '@shop.longtitude'), icon: icons.lidl.icon }).setMap(map)</text>
            }
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsSoynwjXE_F5_NNEaxjFc4ISWWWGy6ow&callback=myMap"></script>